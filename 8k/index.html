<html>
<head>
<link href="main.css" rel="stylesheet">
<!-- -->
<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<!-- -->
<meta charset="UTF-8">
<title>8K</title>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->
<script src="jquery-1.11.3.min.js"></script>
</head>
<body style="background-color:black;">

<div id="loader"><img src="loader.gif"></div>

<div class="info">
<a href="index.html"><h1><img src="8k.png"></h1></a>
<ul>
<li><a href="#baranowska">Kinga Baranowska</a>
<li><a href="#berbeka">Maciej Berbeka</a>
<li><a href="#bielecki">Adam Bielecki</a>
<li><a href="#cichy">Leszek Cichy</a>
<li><a href="#czerwinska">Anna Czerwińska</a>
<li><a href="#czok">Andrzej Czok</a>
<li><a href="#gajewski">Ryszard Gajewski</a>
<li><a href="#golab">Janusz Gołąb</a>
<li><a href="#hajzer">Artur Hajzer</a>
<li><a href="#kaczkan">Marcin Kaczkan</a>
<li><a href="#kowalski">Tomasz Kowalski</a>
<li><a href="#kukuczka">Jurek Kukuczka</a>
<li><a href="#kurtyka">Wojtek Kurtyka</a>
<li><a href="#malek">Artur Małek</a>
<li><a href="#morawski">Piotr Morawski</a>
<li><a href="#pawlikowski">Maciej Pawlikowski</a>
<li><a href="#pawlowski">Ryszard Pawłowski</a>
<li><a href="#pustelnik">Piotr Pustelnik</a>
<li><a href="#rutkiewicz">Wanda Rutkiewicz</a>
<li><a href="#wielicki">Krzysztof Wielicki</a>
<li><a href="#zaluski">Dariusz Załuski</a>
</ul>
</div>

<div class="tab" id="start">

</div>

<div class="tab" id="k">

<div class="minfo">
<img id="cimg" class="minfob">
<div class="minfob" id="minfocontainer">
 <div class="minfobt miname" id="cname"></div>
 <div class="minfobt" id="cinfo"></div>
</div>
</div>

<div class="row">
<span class="b d"></span>
<span class="b m EV" id="EV">EV
<div class="tip"><img src="ev.jpg"><br>Mount Everest<br>8848</div>
</span>
<span class="b m K2" id="K2">K2
<div class="tip"><img src="k2.jpg"><br>K2<br>8611</div></span>
<span class="b m KM" id="KM">KM
<div class="tip"><img src="km.jpg"><br>Kanczendzonga<br>8586</div></span>
<span class="b m LH" id="LH">LH
<div class="tip"><img src="lh.jpg"><br>Lhotse<br>8516</div></span>
<span class="b m MK" id="MK">MK
<div class="tip"><img src="mk.jpg"><br>Makalu<br>8481</div></span>
<span class="b m CO" id="CO">CO
<div class="tip"><img src="co.jpg"><br>Czo Oju<br>8201</div></span>
<span class="b m DH" id="DH">DH
<div class="tip"><img src="dh.jpg"><br>Dhaulagiri<br>8167</div></span>
<span class="b m MN" id="MN">MN
<div class="tip"><img src="mn.jpg"><br>Manaslu<br>8156</div></span>
<span class="b m NP" id="NP">NP
<div class="tip"><img src="np.jpg"><br>Nanga Parbat<br>8126</div></span>
<span class="b m AN" id="AN">AN
<div class="tip"><img src="an.jpg"><br>Annapurna<br>8091</div></span>
<span class="b m G1" id="G1">G1
<div class="tip"><img src="g1.jpg"><br>Gasherbrum I<br>8068</div></span>
<span class="b m BP" id="BP">BP
<div class="tip"><img src="bp.jpg"><br>Broad Peak<br>8047</div></span>
<span class="b m G2" id="G2">G2
<div class="tip"><img src="g2.jpg"><br>Gasherbrum II<br>8035</div></span>
<span class="b m SP" id="SP">SP
<div class="tip"><img src="sp.jpg"><br>Shishapangma<br>8013</div></span>
</div>

<!-- data added here -->

</div>

<script>
function showMDetail(x)
{
 $('#' + x).hover(
  function () {
    $('#' + x).attr("style", "background-color:rgba(50,150,200,0.5);");
    $('#' + x + " .tip").fadeIn();
  }, 
  function () {
    $('#' + x + " .tip").fadeOut();
    $('#' + x).attr("style", "");
  }
 );
}

var PEAKS = ["EV", "K2", "KM", "LH", "MK", "CO", "DH", "MN", "NP", "AN", "G1", "BP", "G2", "SP"];

for (var j = 0; j <= PEAKS.length - 1; j++)
{
  showMDetail(PEAKS[j]);
}

function createMs(row)
{
  for (var j = 0; j < PEAKS.length; j++)
  {
    var b = document.createElement("span");
    $(b).html("&nbsp;")
        .addClass("b cell " + PEAKS[j])
        .appendTo(row);
  }  
}

function createRows(data)
{
  var currentYear = data[0].y - 1;
  for (var i = 0; i < data.length; i++)
  {
    if (data[i].y == currentYear) continue;
    currentYear = data[i].y;
    var ld = document.createElement("span");
    $(ld).addClass("b d").html(data[i].y);
    var r = document.createElement("div");
    $(r).addClass("row dyn").attr("id",data[i].y).html(ld);
    createMs(r);
    $(r).appendTo("#k"); //.fadeIn(1000);
  }  
}

function fillTable(data)
{
  for (var i = 0; i < data.length; i++)
  {
    var d = data[i];
    var addr = "#" + d.y + " ." + d.p;
    $(addr).html("&#10003;").addClass("s");
    if (d.hasOwnProperty("a"))
    {
      $(addr).addClass(d.a);
      if (d.a.indexOf("w") >= 0) $(addr).html("&#x2744;");
    }
    $("#" + d.p).addClass("sel");
  }
}

function adddata(x)
{
  $('#cimg').on('load', function(){
      //$('#loader').fadeOut();
      $('#minfocontainer').fadeIn();
      $('#cimg').fadeIn();
    });
  $('.minfo').attr("style","background:rgba(0,0,0,0.6);");
  $('#minfocontainer').hide();
  $('#cimg').hide();
  $('#cimg').attr('src', x.sname + '.jpg');
  $('#cname').html(x.name);
  $('#cinfo').html(x.desc);
  $('#cimg').attr('src', x.sname + '.jpg');
  var data = x.data;
  data.sort(function(b, a){return b.y - a.y});
  if (data.length == 0) return;
  createRows(data);
  fillTable(data);
}

function loaddata(name)
{
  //$('#loader').fadeIn();
  $('.tab').hide();
  $('.dyn').remove();
  $('.sel').removeClass('sel');
  jQuery.getScript(name + '.js');
  $('#k').fadeIn(500);
  return true;
}

function enter()
{
  var hash = window.location.hash.substr(1);
  if (hash != '')
    loaddata(hash);  
}

$(window).on('hashchange', enter);

$(enter);

$(window).load(function() {
  $('#loader').fadeOut();
});

</script>


</body>
</html>
