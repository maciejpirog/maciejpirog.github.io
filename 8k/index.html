<html>
  <head>
<link href="main.css" rel="stylesheet">
<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<meta charset="UTF-8">
<title>8K</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>
<body>

<div id="loader">
<img src="loader.gif">
Ładuję...
</div>

<div class="info">
<a href="index.html"><h1><img src="8k.png"></h1></a>
<ul>
<li><a href="#bielecki" onclick="loaddata('bielecki');">Adam Bielecki</a>
<li><a href="#czok" onclick="loaddata('czok');">Andrzej Czok</a>
<li><a href="#hajzer" onclick="loaddata('hajzer');">Artur Hajzer</a>
<li><a href="#kukuczka" onclick="loaddata('kukuczka');">Jurek Kukuczka</a>
<li><a href="#kurtyka" onclick="loaddata('kurtyka');">Wojtek Kurtyka</a>
<li><a href="#malek" onclick="loaddata('malek');">Artur Małek</a>
<li><a href="#morawski" onclick="loaddata('morawski');">Piotr Morawski</a>
<li><a href="#pustelnik" onclick="loaddata('pustelnik');">Piotr Pustelnik</a>
<li><a href="#rutkiewicz" onclick="loaddata('rutkiewicz');">Wanda Rutkiewicz</a>
<li><a href="#wielicki" onclick="loaddata('wielicki');">Krzysztof Wielicki</a>
</ul>
</div>

<div class="tab" id="k">

<div class="minfo">
<img id="cimg" class="minfob">
<div class="minfob" id="minfocontainer">
 <div class="minfobt miname" id="cname"></div>
 <div class="minfobt" id="cinfo"></div>
</div>
</div>

<div class="row">
<span class="b d"></span>
<span class="b m EV" id="EV">EV
<div class="tip"><img src="ev.jpg"><br>Mount Everest<br>8848</div>
</span>
<span class="b m K2" id="K2">K2
<div class="tip"><img src="k2.jpg"><br>K2<br>8611</div></span>
<span class="b m KM" id="KM">KM
<div class="tip"><img src="km.jpg"><br>Kanczendzonga<br>8586</div></span>
<span class="b m LH" id="LH">LH
<div class="tip"><img src="lh.jpg"><br>Lhotse<br>8516</div></span>
<span class="b m MK" id="MK">MK
<div class="tip"><img src="mk.jpg"><br>Makalu<br>8481</div></span>
<span class="b m CO" id="CO">CO
<div class="tip"><img src="co.jpg"><br>Czo Oju<br>8201</div></span>
<span class="b m DH" id="DH">DH
<div class="tip"><img src="dh.jpg"><br>Dhaulagiri<br>8167</div></span>
<span class="b m MN" id="MN">MN
<div class="tip"><img src="mn.jpg"><br>Manaslu<br>8156</div></span>
<span class="b m NP" id="NP">NP
<div class="tip"><img src="np.jpg"><br>Nanga Parbat<br>8126</div></span>
<span class="b m AN" id="AN">AN
<div class="tip"><img src="an.jpg"><br>Annapurna<br>8091</div></span>
<span class="b m G1" id="G1">G1
<div class="tip"><img src="g1.jpg"><br>Gasherbrum I<br>8068</div></span>
<span class="b m BP" id="BP">BP
<div class="tip"><img src="bp.jpg"><br>Broad Peak<br>8047</div></span>
<span class="b m G2" id="G2">G2
<div class="tip"><img src="g2.jpg"><br>Gasherbrum II<br>8035</div></span>
<span class="b m SP" id="SP">SP
<div class="tip"><img src="sp.jpg"><br>Shishapangma<br>8013</div></span>
</div>

<!-- data added here -->

</div>

<script>
function showMDetail(x)
{
 $('#' + x).hover(
  function () {
    $('#' + x).attr("style", "background-color:rgba(50,150,200,0.5);");
    $('#' + x + " .tip").fadeIn();
  }, 
  function () {
    $('#' + x + " .tip").fadeOut();
    $('#' + x).attr("style", "");
  }
 );
}

var ps = ["EV", "K2", "KM", "LH", "MK", "CO", "DH", "MN", "NP", "AN", "G1", "BP", "G2", "SP"];

for (var j = 0; j <= ps.length - 1; j++)
{
  showMDetail(ps[j]);
}

function addm(row, p, str)
{
  var cl   = "m";
  var cont = "&nbsp;";
  var i = p.indexOf(str);
  if (i >= 0)
  {
    cl   = "v" + " " + str;
    cont = "&#10003;";
    $("#" + str).addClass("sel");
  }

  var b = document.createElement("span");
  $(b).html(cont)
      .addClass("b " + cl)
      .appendTo(row);
}

function addms(row, p)
{
  for (var j = 0; j <= ps.length - 1; j++)
  {
    addm(row, p, ps[j]);
  }
}

function addrow(y,p)
{
  var d = document.createElement("span");
  $(d).addClass("b d").html(y);
  var r = document.createElement("div");
  $(r).addClass("row dyn").html(d);
  addms(r,p);
  $(r).hide().appendTo("#k").fadeIn(1000);
}

function adddata(x)
{
 $('#cimg').on('load', function(){
      $('#loader').fadeOut(250);
      $('#minfocontainer').fadeIn();
      $('#cimg').fadeIn();
    });
  $('.minfo').attr("style","background:rgba(0,0,0,0.6);");
  $('#minfocontainer').hide();
  $('#cimg').hide();
  $('#cimg').attr('src', x.sname + '.jpg');
  $('#cname').html(x.name);
  $('#cinfo').html(x.desc);
  $('#cimg').attr('src', x.sname + '.jpg');
  $('.dyn').remove();
  $('.sel').removeClass('sel');
  var data = x.data;
  data.sort(function(b, a){return b.y - a.y});
  for (var i = 0; i <= data.length - 1; i++)
  {
    addrow(data[i].y, data[i].p);
  }
  for (var j = 0; j <= ps.length - 1; j++)
  {
    showMDetail(ps[j]);
  }
}

function loaddata(name)
{
  $('#loader').fadeIn(500);
  jQuery.getScript(name + '.js');
  return true;
}

$(function() {
  var climber = window.location.hash.substr(1);
  if (climber != '')
    loaddata(climber);
});
</script>


</body>
</html>
